<!doctype html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default.html}">
<body>
<main id="page" layout:fragment="content">
    <div class="container">
        <div class="tt-wrapper-inner">
            <h1 class="tt-title-border">
                CREATE NEW POST
            </h1>
            <form class="form-default form-create-topic" method="post" enctype="multipart/form-data">
                <div class="form-group mb-3 required">
                    <label for="title">Post Title</label>
                    <input autofocus required type="text" name="title" class="form-control" id="title"
                           th:value="${title}"
                           placeholder="Subject of your post">
                    <div class="tt-note">Describe your post well, while keeping the subject as short as possible.</div>
                </div>

                <div class="form-group mb-3">
                    <label for="thumbnail">Thumbnail</label>
                    <input type="file" id="thumbnail" name="thumbnail" class="form-control"
                           accept="image/png, image/gif, image/jpeg">
                </div>

                <!--                Category-->
                <div class="row mb-3">
                    <div class="col-md-4">
                        <div class="form-group required">
                            <label for="category">Category</label>
                            <select class="form-control" required id="category" name="categoryId">
                                <option th:each="cate: ${categories}" th:value="${cate.id}"
                                        th:checked="${categoryId == cate.id}">
                                    [[${cate.collection}]] - [[${cate.name}]]
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <div class="form-group">
                            <label for="tags">Tags</label>
                            <input th:value="${tags}" type="text" name="tags" class="form-control" id="tags"
                                   placeholder="Use comma to separate tags">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="description">Short Description</label>
                    <textarea id="description" name="description" class="form-control" rows="5"
                              placeholder="Lets get started">[[${description}]]</textarea>
                </div>
                <!--                Cotent-->
                <div class="form-group required">
                    <label for="content">Content</label>
                    <textarea id="content" name="content" class="form-control" rows="5"
                              placeholder="Lets get started">[[${content}]]</textarea>
                </div>

                <div class="form-check form-group form-switch mb-3">
                    <input value="true" class="form-check-input" type="checkbox" id="commentEnabled"
                           name="commentEnabled" th:checked="${commentEnabled == true}">
                    <label class="form-check-label" for="commentEnabled"> Comment enabled</label>
                </div>

                <div class="row">
                    <div class="col-auto ml-md-auto">
                        <button type="submit" class="btn btn-secondary btn-width-lg">Create Post</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script>
        tinymce.init({
            selector: 'textarea#content',
            plugins: 'anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount',
            toolbar: 'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat',
        });
    </script>

</main>
</body>
</html>